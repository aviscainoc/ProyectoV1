<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"> 

<ui:composition template="../Plantilla/plantilla.xhtml">
	<ui:define name="tituloPagina">Facturar</ui:define>
	<ui:define name="h1Titulo">Factura</ui:define>
	<ui:define name="nombreUser">Dr. #{user.us_nombres} <br></br>#{user.us_apellidos}</ui:define>
	<ui:define name="contenido">
	
	<center>
		<div class="card-body" style="width: 75%;">
			<h:panelGrid columns="4" class="table table-bordered">
				<h:outputLabel value="Nombres: " />
				<h:inputText value="#{gestionCitasBean.factura.fac_cab_nombre}" disabled="true" style="color: black; border:none; background-color: #F1F4F6; font-size: 14px;"/>
				<h:outputLabel value="Dirección " />
				<h:inputText value="#{gestionCitasBean.factura.fac_cab_direccion}" disabled="true" style="color: black; border:none; background-color: #F1F4F6; font-size: 14px;"/>
				<h:outputLabel value="Teléfono " />
				<h:inputText value="#{gestionCitasBean.factura.fac_cab_telefono}" disabled="true" style="color: black; border:none; background-color: #F1F4F6; font-size: 14px;"/>
				<h:outputLabel value="Cédula: " />
				<h:inputText value="#{gestionCitasBean.factura.fac_cab_cedula}" disabled="true" style="color: black; border:none; background-color: #F1F4F6; font-size: 14px;"/>
			</h:panelGrid>
		</div>

	
	<h:form>
		<div class="card-body" style="width: 75%;">
			<h:dataTable value="#{gestionCitasBean.recuperarFacturasDetalle()}" var="detalle" class="table table-bordered">
				<h:column>
					#{detalle.fac_det_descripcion}
					<f:facet name="header">Descripción</f:facet>
				</h:column>
				<h:column>
					#{detalle.fac_det_precio}
					<f:facet name="header">Precio</f:facet>
				</h:column>
				<h:column>
					#{detalle.fac_det_cantidad}
					<f:facet name="header">Cantidad</f:facet>
				</h:column>
				<h:column>
					#{detalle.fac_det_cantidad * detalle.fac_det_precio}
					<f:facet name="header">Subtotal</f:facet>
				</h:column>
			</h:dataTable>
		</div>
	</h:form>
	

		<div class="card-body" style="width: 75%;">
			<h:panelGrid columns="2" class="table table-bordered">
				<h:outputLabel value="Subtotal: " />
				<h:inputText value="#{gestionCitasBean.factura.fac_cab_precio}" disabled="true" style="color: black; border:none; background-color: #F1F4F6; font-size: 14px;"/>
				<h:outputLabel value="Total: " />
				<h:inputText value="#{gestionCitasBean.factura.fac_cab_iva}" disabled="true" style="color: black; border:none; background-color: #F1F4F6; font-size: 14px;"/>			
			</h:panelGrid>
		</div>

	
	<h:form>
		<div class="card-body" style="width: 75%;">
			<h:panelGrid columns="8" class="table table-bordered">
				<h:outputLabel value="Descripcion" />
				<h:inputText value="#{gestionCitasBean.fac_det_descripcion}" placeholder="Descripcion" class="form-control" />
				
				<h:outputLabel value="Precio" />
				<h:inputText value="#{gestionCitasBean.fac_det_precio}" placeholder="Precio" class="form-control" />
				
				<h:outputLabel value="Cantidad" />
				<h:inputText value="#{gestionCitasBean.fac_det_cantidad}" placeholder="Cantidad" class="form-control" />
					
				<h:commandButton action="#{gestionCitasBean.guardarDetalle(user)}" value="Insertar Detalle" class="btn btn-block btn-outline-secondary btn-xs" />
			</h:panelGrid>
		</div>
	</h:form>
</center>
</ui:define>
</ui:composition>

</html>